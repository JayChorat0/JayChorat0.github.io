(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3576:function(e,t,n){Promise.resolve().then(n.bind(n,1939))},1939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return es}});var s=n(7437),a=n(2265),i=n(9376),r=n(6681),o=n(6410),l=n(5978),d=n(5434),c=n(3301),u=n(9820),h=n(535),p=n(3448);let m=(0,h.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f(e){let{className:t,variant:n,...a}=e;return(0,s.jsx)("div",{className:(0,p.cn)(m({variant:n}),t),...a})}var g=n(7577),x=n(2381),y=n(1146);function b(){let[e,t]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=e=>{e.preventDefault(),t(e)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let n=async()=>{if(!e)return;e.prompt();let{outcome:n}=await e.userChoice;"accepted"===n?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null)};return e?(0,s.jsxs)(x.z,{onClick:n,variant:"outline",size:"sm",children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Install App"]}):null}var v=n(3683),w=n(8999);let z=w.zt,j=w.fC,N=w.xz,k=a.forwardRef((e,t)=>{let{className:n,sideOffset:a=4,...i}=e;return(0,s.jsx)(w.VY,{ref:t,sideOffset:a,className:(0,p.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})});function T(e){let{caseTitle:t,caseDescription:n,score:a,children:r}=e,l=(0,i.useRouter)(),d=async()=>{try{await (0,c.w7)(o.I8),l.push("/")}catch(e){console.error("Error signing out: ",e)}};return(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background text-foreground",children:(0,s.jsxs)("main",{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsxs)("header",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsx)(g.T,{}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b,{}),(0,s.jsxs)(f,{variant:"outline",className:"text-lg py-1 px-4",children:["Score: ",(0,s.jsx)("span",{className:"font-bold ml-2 text-accent",children:a})]}),(0,s.jsx)(z,{children:(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{asChild:!0,children:(0,s.jsxs)(x.z,{onClick:d,variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Exit Game"})]})}),(0,s.jsx)(k,{children:(0,s.jsx)("p",{children:"Exit Game"})})]})})]})]}),(0,s.jsxs)(u.Zb,{className:"w-full bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsx)(u.ll,{className:"text-2xl font-headline tracking-wider text-accent",children:t}),(0,s.jsx)(u.SZ,{className:"text-base",children:n})]}),(0,s.jsx)(u.aY,{children:r})]}),(0,s.jsx)("footer",{className:"text-center mt-6 text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Bug Hunters. Become the hunter."]})})]})})}k.displayName=w.VY.displayName;var P=n(5156);let C=a.forwardRef((e,t)=>{let{className:n,orientation:a="horizontal",decorative:i=!0,...r}=e;return(0,s.jsx)(P.f,{ref:t,decorative:i,orientation:a,className:(0,p.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",n),...r})});C.displayName=P.f.displayName;var I=n(6747),E=n(8704),S=n(2017);let A=e=>{let{type:t}=e;switch(t){case"email":return(0,s.jsx)(I.Z,{className:"h-5 w-5 mr-2"});case"website":return(0,s.jsx)(E.Z,{className:"h-5 w-5 mr-2"});case"terminal":return(0,s.jsx)(S.Z,{className:"h-5 w-5 mr-2"})}};function D(e){let{puzzle:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center text-lg font-semibold mb-4 text-muted-foreground",children:[(0,s.jsx)(A,{type:t.type}),(0,s.jsx)("h3",{className:"text-2xl font-headline tracking-wide",children:t.title})]}),(()=>{switch(t.type){case"email":return(0,s.jsxs)(u.Zb,{className:"bg-background/50 border-primary/20",children:[(0,s.jsxs)(u.Ol,{children:[(0,s.jsx)(u.ll,{className:"text-lg font-code",children:"Incoming Message"}),(0,s.jsx)(u.SZ,{className:"font-code",children:t.description})]}),(0,s.jsx)(C,{className:"bg-primary/20"}),(0,s.jsx)(u.aY,{className:"p-6 pt-4",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content},className:"prose prose-invert prose-sm max-w-none font-code"})})]});case"website":return(0,s.jsxs)(u.Zb,{className:"bg-background/50 overflow-hidden border-primary/20",children:[(0,s.jsxs)(u.Ol,{className:"bg-muted/30 p-2 flex-row items-center space-y-0",children:[(0,s.jsxs)("div",{className:"flex gap-1.5",children:[(0,s.jsx)("span",{className:"h-3 w-3 rounded-full bg-red-500"}),(0,s.jsx)("span",{className:"h-3 w-3 rounded-full bg-yellow-500"}),(0,s.jsx)("span",{className:"h-3 w-3 rounded-full bg-green-500"})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground bg-background/80 rounded-md px-4 py-1 ml-4 flex-grow text-center font-code",children:"http://suspicious-site.com"})]}),(0,s.jsx)(u.aY,{className:"p-4",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content},className:"prose prose-invert prose-sm max-w-none font-code"})})]});case"terminal":return(0,s.jsxs)(u.Zb,{className:"bg-black/80 font-code text-primary overflow-hidden border-primary/20",children:[(0,s.jsxs)(u.Ol,{className:"bg-gray-800/50 p-2 flex-row items-center space-y-0",children:[(0,s.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:"/bin/zsh"})]}),(0,s.jsx)(u.aY,{className:"p-4 text-sm whitespace-pre-wrap",children:t.content})]});default:return(0,s.jsx)("div",{children:"Unknown puzzle type"})}})()]})}var F=n(279);let L=[{id:"case-01",title:"Case 01: The Phishing Lure",description:"An employee has reported a suspicious email. Your job is to analyze it and find the threat.",puzzles:[{id:"c01p01",type:"email",title:"Analyze Suspicious Email",description:"From: SecureBank <support@securebanc.com>\nTo: employee@corp.com\nSubject: Urgent: Your Account Has Been Compromised!",content:'\n          <p>Dear Valued Customer,</p>\n          <p>We detected unusual activity on your account. For your security, we have temporarily suspended your account. Please login immediately to verify your identity and restore access.</p>\n          <p>Click here to login: <a href="http://evil-corp.net/login" target="_blank" class="text-blue-400 hover:underline">https://my-secure-bank.com/verify</a></p>\n          <p>Thank you,<br/>SecureBank Security Team</p>\n        ',prompt:"What is the true domain name of the suspicious link?",solution:"evil-corp.net",points:50,aiPuzzleDescription:"The user is analyzing a phishing email. They need to find the actual destination URL of a hyperlink, which is different from the link text.",hints:["Hover your mouse over the link to see the real destination.","The text of a link can be different from where it actually goes.","Inspect the link's 'href' attribute in the HTML.","The link text is designed to be deceptive."]},{id:"c01p02",type:"website",title:"Analyze Defaced Website",description:"The phishing link led to a defaced website. The hacker left a message.",content:'\n          <div class="text-center p-8">\n            <h1 class="text-5xl font-bold text-red-500">YOU\'VE BEEN HACKED!</h1>\n            <p class="mt-4 text-xl">Your security is a joke.</p>\n            <p class="mt-8 font-mono bg-gray-800 p-4 rounded">I left a little secret for you. The keyword is: <span class="text-green-400 font-bold">sentinel</span></p>\n            <!-- Pssst... the real password is cyber-sleuth-123 -->\n          </div>\n        ',prompt:"What is the keyword left by the hacker on the page?",solution:"sentinel",points:25,aiPuzzleDescription:"The user is looking at a defaced webpage. They need to find a specific keyword that is clearly visible in the text content of the page.",hints:["The keyword is visible on the page without needing to inspect the source code.","Look for the word highlighted in green.","The hacker explicitly mentions a 'keyword'.","The solution is not hidden in the source code."]}]},{id:"case-02",title:"Case 02: The Rogue Server",description:"We've found a rogue server on our network. We need you to gain access and see what's on it.",puzzles:[{id:"c02p01",type:"terminal",title:"Find the Hidden File",description:"You have basic access to a terminal on the server. Find the file containing sensitive information.",content:"\n          $ ls -la\n          total 8\n          drwxr-xr-x 2 user user 4096 Jan 1 12:00 .\n          drwxr-xr-x 4 user user 4096 Jan 1 12:00 ..\n          -rw-r--r-- 1 user user  134 Jan 1 12:00 notes.txt\n          -rw-r--r-- 1 user user   52 Jan 1 12:00 .secret_plans\n        ",prompt:"What is the name of the hidden file?",solution:".secret_plans",points:100,aiPuzzleDescription:"The user is looking at the output of 'ls -la' in a Linux terminal. They need to identify the hidden file, which starts with a dot.",hints:["In Linux, files starting with a period (.) are hidden by default.","The '-a' flag in 'ls -la' command shows all files, including hidden ones.","Look for a filename that begins with a dot.","The file is not 'notes.txt'."]}]},{id:"case-03",title:"Case 03: The Ransomware Attack",description:"A critical server has been hit by ransomware. We need to understand the attack and find the payment portal.",puzzles:[{id:"c03p01",type:"terminal",title:"Decrypt the Ransom Note",description:"The attackers left a ransom note, but it's encoded. You need to read its contents.",content:"\n          $ cat RANSOM_NOTE.txt\n          WW91ciBmaWxlcyBhcmUgZW5jcnlwdGVkLiBQYXkgMTAgYml0Y29pbiB0byBnZXQgdGhlbSBiYWNrLg==\n        ",prompt:"The ransom note appears to be Base64 encoded. What is the decoded message?",solution:"Your files are encrypted. Pay 10 bitcoin to get them back.",points:75,aiPuzzleDescription:"The user is presented with a Base64 encoded string in a terminal. They need to decode it to reveal the hidden message.",hints:["This type of encoding is common on the web. Try searching for an online 'Base64 decoder'.","The '==' at the end is often a sign of Base64 encoding.","Copy the encoded string and paste it into a decoder tool.","The decoded message is a sentence in English."]},{id:"c03p02",type:"website",title:"Find the Payment Portal",description:"The attackers have a payment portal, but it's hidden on their website.",content:'\n          <div class="p-4">\n            <h1 class="text-2xl font-bold">Welcome to Evil Corp</h1>\n            <p>We are a legitimate business. Nothing to see here.</p>\n            <!-- The payment portal is at a path hinted at by the ransom currency. -->\n          </div>\n        ',prompt:"The source code mentions a hint related to the ransom currency. What is the full URL of the payment portal?",solution:"http://evil-corp.net/bitcoin",points:100,aiPuzzleDescription:"The user is on a website and needs to find a hidden page. A comment in the HTML source code hints that the path name is related to the currency mentioned in the previous puzzle (bitcoin).",hints:["Look for clues that aren't visible on the webpage itself.","View the page's HTML source code for hidden comments.","The currency mentioned in the previous puzzle is the key to the path.","The base URL is 'http://evil-corp.net'."]}]},{id:"case-04",title:"Case 04: The Insider Threat",description:"We suspect an employee is leaking data. We've captured some network traffic and server logs.",puzzles:[{id:"c04p01",type:"terminal",title:"Analyze Server Logs",description:"Analyze these server access logs to find the IP address that accessed the secret files.",content:"\n          $ cat access.log\n          192.168.1.1 - GET /index.html\n          10.0.0.5 - GET /images/logo.png\n          172.16.31.4 - POST /api/login\n          203.0.113.78 - GET /data/finances.zip\n          192.168.1.2 - GET /about.html\n        ",prompt:"Which IP address downloaded the sensitive 'finances.zip' file?",solution:"203.0.113.78",points:100,aiPuzzleDescription:"The user is shown a snippet of a server log file. They need to find the IP address associated with the download of a specific sensitive file mentioned in the log.",hints:["Each line in the log represents a request.","Find the line that contains 'finances.zip'.","The IP address is the first part of each log entry.","The correct IP address starts with '203'."]},{id:"c04p02",type:"website",title:"Reassemble the Secret Key",description:"The data was protected by a key, but the employee shredded it. We recovered fragments from their browser cache.",content:'\n          <div>\n            <p>Key Fragments Found:</p>\n            <ul class="font-mono list-disc list-inside bg-gray-800 p-4 rounded">\n              <li>Part 3: 8JkL</li>\n              <li>Part 1: AbC1</li>\n              <li>Part 4: MnOp</li>\n              <li>Part 2: 4FgH</li>\n            </ul>\n          </div>\n        ',prompt:"Assemble the key fragments in the correct order (Part 1, Part 2, etc.).",solution:"AbC14FgH8JkLMnOp",points:125,aiPuzzleDescription:"The user is presented with a list of key fragments that are out of order. They need to reassemble them into a single string based on the part numbers provided.",hints:["The fragments are labeled with their correct order.","Combine the strings in numerical order of the 'Part' labels.","The final key is a single string with no spaces.","The key starts with 'AbC1'."]}]},{id:"case-05",title:"Case 05: The Social Engineering Ploy",description:"An attacker is using social engineering to gain access. We need to uncover their plot.",puzzles:[{id:"c05p01",type:"website",title:"Investigate Fake Profile",description:"The attacker is using a fake social media profile to appear legitimate. Find the hidden message.",content:'\n          <div class="p-4 border rounded-lg">\n            <h2 class="text-xl font-bold">Jane Doe</h2>\n            <p class="text-sm text-gray-400">Project Manager at Innovate Inc.</p>\n            <p class="mt-2">Connecting with industry leaders and sharing insights!</p>\n            <!-- The next target is the CFO, the code word is \'ProjectEagle\' -->\n          </div>\n        ',prompt:"The attacker hid a code word in the HTML of the profile page. What is it?",solution:"ProjectEagle",points:100,aiPuzzleDescription:"The user is analyzing a fake social media profile page. They need to inspect the HTML source to find a hidden comment containing a code word.",hints:["Sometimes messages are hidden from view in the page's code.","Check the HTML source for any comments.","HTML comments look like <!-- this -->.","The code word is related to a project."]},{id:"c05p02",type:"email",title:"Analyze Spear Phishing Email",description:"The attacker sent a spear phishing email to the CFO. Identify the malicious payload.",content:'\n          <p>Hi John,</p>\n          <p>Following up on our discussion, here is the document for \'ProjectEagle\'.</p>\n          <p>Please review: <a href="http://evil-corp.net/docs/ProjectEagle.exe" target="_blank" class="text-blue-400 hover:underline">Download Secure Document</a></p>\n          <p>Thanks,<br/>Jane Doe</p>\n        ',prompt:"The link in the email downloads a file. What is the full filename of the download?",solution:"ProjectEagle.exe",points:125,aiPuzzleDescription:"The user is analyzing a phishing email. They need to identify the full filename, including the extension, of the file that would be downloaded from the hyperlink.",hints:["The actual link destination reveals the file that will be downloaded.","Inspect the 'href' attribute of the link.","Executable files on Windows often end with '.exe'.","The filename is the same as the code word from the previous puzzle."]}]},{id:"case-06",title:"Case 06: The Data Exfiltration",description:"Sensitive data is being slowly leaked from our network. Find the source and the leaked data.",puzzles:[{id:"c06p01",type:"terminal",title:"Analyze DNS Logs",description:"The attacker is using DNS tunneling to exfiltrate data. Find the suspicious domain in the logs.",content:"\n          $ tail -f dns_queries.log\n          [INFO] query for www.google.com\n          [INFO] query for cdn.corp.com\n          [INFO] query for a7b3c1d9.secret-data.net\n          [INFO] query for auth.corp.com\n        ",prompt:"A domain in the logs looks suspicious and is likely used for data exfiltration. What is the suspicious domain?",solution:"a7b3c1d9.secret-data.net",points:150,aiPuzzleDescription:"The user is viewing DNS query logs. They need to identify a strange-looking domain that doesn't fit the pattern of legitimate corporate domains, suggesting it's used for data exfiltration.",hints:["Look for a domain that doesn't look like the others.","Attackers often use randomized subdomains to exfiltrate data.","The legitimate domains are 'google.com' and 'corp.com'.","The suspicious domain contains 'secret-data'."]},{id:"c06p02",type:"website",title:"Find Leaked Data",description:"The suspicious domain leads to a public paste site where a fragment of the leaked data was posted.",content:'\n          <div class="font-mono text-sm whitespace-pre-wrap bg-gray-800 p-4 rounded">\n            <div>...BEGIN LEAKED DATA...</div>\n            <div>User: jsmith</div>\n            <div>Pass: S3cureP@ssw0rd!</div>\n            <div>FLAG: {CYBER_HUNTER_MASTER}</div>\n            <div>...END LEAKED DATA...</div>\n          </div>\n        ',prompt:"The leaked data contains a 'flag'. What is the value of the flag?",solution:"{CYBER_HUNTER_MASTER}",points:100,aiPuzzleDescription:"The user is viewing a text snippet on a webpage that represents leaked data. They need to find and copy the value of the 'FLAG' contained within the text.",hints:["Flags are often used in cybersecurity challenges to mark a final answer.","The format is typically FLAG: {some_value}.","Copy the entire value, including the curly braces.","The flag is designed to be easy to spot."]}]},{id:"case-07",title:"Case 07: The Wi-Fi Intrusion",description:"Unusual activity has been detected on the corporate Wi-Fi. Identify the unauthorized device.",puzzles:[{id:"c07p01",type:"terminal",title:"Scan the Network",description:"A network scan reveals all connected devices. Find the one that doesn't belong.",content:"\n          $ nmap -sP 192.168.1.0/24\n          ...\n          Nmap scan report for 192.168.1.101 (Server-01)\n          Nmap scan report for 192.168.1.102 (Workstation-34)\n          Nmap scan report for 192.168.1.103 (pwn-box)\n          Nmap scan report for 192.168.1.104 (Printer-Office)\n          ...\n        ",prompt:"One of these devices has a suspicious hostname. What is it?",solution:"pwn-box",points:150,aiPuzzleDescription:"The user is looking at a list of devices on a network from an nmap scan. They need to identify the device with a name that implies malicious intent.",hints:["Device hostnames usually describe their function (like 'Server' or 'Printer').","Look for a hostname that sounds like slang used by hackers.","The term 'pwn' is often used in hacking to mean 'own' or compromise.","The other hostnames seem to belong on a corporate network."]}]},{id:"case-08",title:"Case 08: The Malware Outbreak",description:"A piece of malware is spreading. Analyze its code to find the command and control server.",puzzles:[{id:"c08p01",type:"website",title:"Analyze Malware Code",description:"You've obtained a snippet of the malware's source code.",content:'\n          <div class="font-mono text-sm whitespace-pre-wrap bg-black text-green-400 p-4 rounded">\n            <span class="text-blue-400">function</span> <span class="text-yellow-300">contactC2</span>() {\n              <span class="text-gray-400">// Config</span>\n              <span class="text-purple-400">let</span> server = <span class="text-red-400">atob</span>(<span class="text-orange-400">"ZXZpbC1jMmQuaW5mby8="</span>);\n              <span class="text-purple-400">fetch</span>(server + <span class="text-orange-400">"/checkin"</span>);\n            }\n          </div>\n        ',prompt:"The malware contacts a Command & Control (C2) server. The address is Base64 encoded. What is the decoded C2 domain?",solution:"evil-c2.info/",points:200,aiPuzzleDescription:"The user is looking at a snippet of code. They need to find a Base64 encoded string, decode it, to find the malware's command and control server domain.",hints:["The function `atob()` in JavaScript is used to decode Base64 strings.","Find the Base64 string inside the atob() function call.","Use an online Base64 decoder to find the hidden domain.","The decoded value will end with a '/'."]}]}];var W=n(3459),R=n(6622),H=n(1230),Z=n(29),M=n.n(Z),B=n(3972),_=n(4986);let O=B.fC,Y=B.xz,U=B.h_;B.x8;let G=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(B.aV,{ref:t,className:(0,p.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});G.displayName=B.aV.displayName;let J=a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,s.jsxs)(U,{children:[(0,s.jsx)(G,{}),(0,s.jsxs)(B.VY,{ref:t,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...i,children:[a,(0,s.jsxs)(B.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(_.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});J.displayName=B.VY.displayName;let V=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};V.displayName="DialogHeader";let q=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(B.Dx,{ref:t,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});q.displayName=B.Dx.displayName;let K=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(B.dk,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",n),...a})});K.displayName=B.dk.displayName;var $=n(5980);function Q(e){let{puzzle:t,onHintUsed:n}=e,[i,r]=(0,a.useState)(!1),[o,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(null);if((0,a.useEffect)(()=>{l([]),c(null)},[t.id]),!t.hints||0===t.hints.length)return null;let u=o.length===t.hints.length,h=u?"All Hints Shown":o.length>0?"Get Another Hint":"Need a Hint? (-10 Pts)";return(0,s.jsxs)(O,{open:i,onOpenChange:e=>{r(e)},children:[(0,s.jsx)(Y,{asChild:!0,children:(0,s.jsxs)(x.z,{variant:"ghost",className:"text-accent hover:text-accent-foreground",onClick:()=>{let e=t.hints.filter(e=>!o.includes(e));if(e.length>0){0===o.length&&n();let t=e[0];l(e=>[...e,t]),c(t)}else c("No more hints available for this puzzle.");r(!0)},disabled:u,children:[(0,s.jsx)($.Z,{className:"mr-2 h-4 w-4"}),h]})}),(0,s.jsxs)(J,{children:[(0,s.jsxs)(V,{children:[(0,s.jsxs)(q,{className:"flex items-center gap-2",children:[(0,s.jsx)($.Z,{}),"Mission Hint"]}),(0,s.jsx)(K,{children:"Here's a hint to get you on the right track."})]}),(0,s.jsx)("div",{className:"jsx-95ba84ce8c84f350 my-4 min-h-[6rem] flex items-center justify-center rounded-md border border-dashed p-4",children:(0,s.jsx)("p",{className:"jsx-95ba84ce8c84f350 text-accent animate-fade-in text-center text-lg",children:d})})]}),(0,s.jsx)(M(),{id:"95ba84ce8c84f350",children:"@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@-moz-keyframes fade-in{from{opacity:0}to{opacity:1}}@-o-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}.animate-fade-in.jsx-95ba84ce8c84f350{-webkit-animation:fade-in.5s ease-in-out forwards;-moz-animation:fade-in.5s ease-in-out forwards;-o-animation:fade-in.5s ease-in-out forwards;animation:fade-in.5s ease-in-out forwards}"})]})}let X=L.flatMap(e=>e.puzzles.map(e=>e.solution)),ee={id:"case-endless",title:"Case ???: The Endless Hunt",description:"These missions are generated by the agency's AI. They are unpredictable and infinite. Good luck, agent.",puzzles:[]},et=(0,d.$C)(o.l2,"us-central1"),en=(0,d.V1)(et,"generateNewPuzzle");function es(){let[e,t,n]=(0,r.F_)(o.I8),d=(0,i.useRouter)(),[c,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(""),[f,g]=(0,a.useState)(null),[y,b]=(0,a.useTransition)(),[v,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t||e||d.push("/")},[e,t,d]),(0,a.useEffect)(()=>{if(e){let t=(0,l.JU)(o.vo,"users",e.uid),n=(0,l.cf)(t,n=>{if(n.exists()){var s,a,i,r,o,d;let e=n.data();u({currentCaseIndex:null!==(s=e.currentCaseIndex)&&void 0!==s?s:0,currentPuzzleIndex:null!==(a=e.currentPuzzleIndex)&&void 0!==a?a:0,score:null!==(i=e.score)&&void 0!==i?i:0,solvedPuzzles:null!==(r=e.solvedPuzzles)&&void 0!==r?r:[],endlessPuzzles:null!==(o=e.endlessPuzzles)&&void 0!==o?o:[],hintedPuzzles:null!==(d=e.hintedPuzzles)&&void 0!==d?d:[]})}else{console.log("User document not found, creating one.");let n={email:e.email,score:0,solvedPuzzles:[],endlessPuzzles:[],hintedPuzzles:[],currentCaseIndex:0,currentPuzzleIndex:0};(0,l.pl)(t,n).then(()=>{u(n)})}});return()=>n()}},[e]);let z=async t=>{e&&b(async()=>{let n=(0,l.JU)(o.vo,"users",e.uid);await (0,l.pl)(n,t,{merge:!0})})};if(t||!c||!e)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsx)(W.Z,{className:"h-12 w-12 animate-spin"})});let j=c.currentCaseIndex>=L.length,N=j?{...ee,puzzles:c.endlessPuzzles||[]}:L[c.currentCaseIndex],k=N.puzzles[c.currentPuzzleIndex],P=!!k&&c.solvedPuzzles.includes(k.id),C=async()=>{if(g(null),m(""),!N)return;let e=c.currentPuzzleIndex>=N.puzzles.length-1,t=c.currentCaseIndex>=L.length-1;if(j||e&&t){w(!0);let e=L[L.length-1].description;try{var n;let t=(await en({lastCaseDescription:e,existingSolutions:[...X,...(null===(n=c.endlessPuzzles)||void 0===n?void 0:n.map(e=>e.solution))||[]]})).data;if(t){let e=[...c.endlessPuzzles||[],t];z({currentCaseIndex:L.length,currentPuzzleIndex:e.length-1,endlessPuzzles:e})}else g({type:"incorrect",message:"Failed to generate a new mission."})}catch(e){console.error(e),g({type:"incorrect",message:"An error occurred while generating a new mission."})}finally{w(!1)}}else e?z({currentCaseIndex:c.currentCaseIndex+1,currentPuzzleIndex:0}):z({currentPuzzleIndex:c.currentPuzzleIndex+1})};return k?(0,s.jsxs)(T,{caseTitle:N.title,caseDescription:N.description,score:c.score,children:[(0,s.jsx)(D,{puzzle:k}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("p",{className:"text-muted-foreground font-code mb-2",children:k.prompt}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),h.trim()&&!P&&!y&&k){if(h.trim().toLowerCase()===k.solution.toLowerCase())g({type:"correct",message:"Correct! +".concat(k.points," points")}),z({score:c.score+k.points,solvedPuzzles:[...c.solvedPuzzles,k.id]});else{g({type:"incorrect",message:"Incorrect. Try another approach."});let e=Math.max(0,c.score-5);e!==c.score&&z({score:e})}}},className:"flex flex-col sm:flex-row items-center gap-2",children:[(0,s.jsx)(F.I,{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Enter your answer...",className:"font-code flex-grow",disabled:P||y,"aria-label":"Answer input"}),(0,s.jsx)(x.z,{type:"submit",disabled:P||y,className:"w-full sm:w-auto",children:y?(0,s.jsx)(W.Z,{className:"animate-spin"}):"Submit"})]}),(0,s.jsxs)("div",{className:"mt-4 h-12 flex items-center justify-between",children:[f&&(0,s.jsx)("p",{className:(0,p.cn)("text-sm font-semibold transition-all duration-300","correct"===f.type?"text-green-400":"text-red-400"),children:f.message}),!P&&(0,s.jsx)(Q,{puzzle:k,onHintUsed:()=>{!(!k||!c||(c.hintedPuzzles||[]).includes(k.id))&&(console.log("Hint used for the first time on this puzzle. Deducting points."),z({score:Math.max(0,c.score-10),hintedPuzzles:[...c.hintedPuzzles||[],k.id]}))}}),P&&(0,s.jsxs)(x.z,{onClick:C,variant:"outline",className:"ml-auto",disabled:y||v,children:[(y||v)&&(0,s.jsx)(W.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Next Mission",(0,s.jsx)(H.Z,{className:"ml-2 h-4 w-4"})]})]})]})]}):(0,s.jsx)(T,{caseTitle:"Awaiting Orders...",caseDescription:"Stand by for your next mission.",score:c.score,children:(0,s.jsxs)("div",{className:"text-center p-8",children:[(0,s.jsx)("p",{className:"text-lg mb-4",children:"You have completed all available handcrafted missions."}),(0,s.jsx)(x.z,{onClick:C,disabled:v,children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Mission..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Request Next Mission"]})}),f&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-4",children:f.message})]})})}},7577:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var s=n(7437),a=n(7517),i=n(3448);function r(e){let{className:t}=e;return(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-3 text-inherit",t),children:[(0,s.jsx)(a.Z,{className:"h-8 w-8 text-accent"}),(0,s.jsx)("span",{className:"text-4xl font-headline tracking-widest",children:"BUG HUNTERS"})]})}},2381:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var s=n(7437),a=n(2265),i=n(8482),r=n(535),o=n(3448);let l=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:r,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:r,className:n})),ref:t,...c})});d.displayName="Button"},9820:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return r},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var s=n(7437),a=n(2265),i=n(3448);let r=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});r.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...a})});u.displayName="CardFooter"},279:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var s=n(7437),a=n(2265),i=n(3448);let r=a.forwardRef((e,t)=>{let{className:n,type:a,...r}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...r})});r.displayName="Input"},6410:function(e,t,n){"use strict";n.d(t,{I8:function(){return o},l2:function(){return r},vo:function(){return l}});var s=n(738),a=n(3301),i=n(5978);let r=0===(0,s.C6)().length?(0,s.ZF)({projectId:"cyber-sleuth-2lw00",appId:"1:218425118218:web:4511fbf82c611feabb99f3",storageBucket:"cyber-sleuth-2lw00.firebasestorage.app",apiKey:"AIzaSyAQ2_9rOMbp3hpoPUJHTGAthzYFjF4FRvo",authDomain:"cyber-sleuth-2lw00.firebaseapp.com",messagingSenderId:"218425118218",measurementId:"G-4PNRXQWJ8P"}):(0,s.C6)()[0],o=(0,a.v0)(r),l=(0,i.ad)(r)},3448:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var s=n(1994),a=n(3335);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[358,139,331,88,674,298,628,971,117,744],function(){return e(e.s=3576)}),_N_E=e.O()}]);